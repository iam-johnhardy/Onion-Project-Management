const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProjectTasks-DWha4918.js","assets/vendor-react-BOUMS_NX.js","assets/vendor-other-Bt73QmDX.js","assets/index-C3CwCeoQ.js","assets/vendor-date-D_1Ha1jh.js","assets/index-B57I0uCJ.css","assets/ProjectAnalytics-DafP5qxf.js","assets/vendor-charts-RNFPO7oL.js","assets/ProjectCalendar-DbxqDVM1.js"])))=>i.map(i=>d[i]);
import{_ as k}from"./index-C3CwCeoQ.js";import{i as N,c as z,r as i,j as e,J as C,Q as S,Y as D,p as f,l as y,n as P,_ as E,Z as T,$ as _,k as O,m as A}from"./vendor-react-BOUMS_NX.js";import{f as j}from"./vendor-date-D_1Ha1jh.js";import"./vendor-other-Bt73QmDX.js";const M=({isDialogOpen:d,setIsDialogOpen:r})=>{const[l]=N(),b=l.get("id"),u=z(a=>a.workspace?.currentWorkspace||null),m=u?.projects.find(a=>a.id===b),o=m?.members.map(a=>a.user.email),[p,t]=i.useState(""),[c,x]=i.useState(!1),s=async a=>{a.preventDefault()};return d?e.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/50 backdrop-blur flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl p-6 w-full max-w-md text-zinc-900 dark:text-zinc-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(C,{className:"size-5 text-zinc-900 dark:text-zinc-200"})," Add Member to Project"]}),u&&e.jsxs("p",{className:"text-sm text-zinc-700 dark:text-zinc-400",children:["Adding to Project: ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:m.name})]})]}),e.jsxs("form",{onSubmit:s,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-zinc-900 dark:text-zinc-200",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(S,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 dark:text-zinc-400 w-4 h-4"}),e.jsxs("select",{value:p,onChange:a=>t(a.target.value),className:"pl-10 mt-1 w-full rounded border border-zinc-300 dark:border-zinc-700 dark:bg-zinc-900 text-zinc-900 dark:text-zinc-200 text-sm placeholder-zinc-400 dark:placeholder-zinc-500 py-2 focus:outline-none focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a member"}),u?.members.filter(a=>!o.includes(a.user.email)).map(a=>e.jsxs("option",{value:a.user.email,children:[" ",a.user.email," "]},a.user.id))]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-5 py-2 text-sm rounded border border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-200 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c||!u,className:"px-5 py-2 text-sm rounded bg-gradient-to-br from-blue-500 to-blue-600 hover:opacity-90 text-white disabled:opacity-50 transition",children:c?"Adding...":"Add Member"})]})]})]})}):null};function I({project:d}){const[r,l]=i.useState({name:"New Website Launch",description:"Initial launch for new web platform.",status:"PLANNING",priority:"MEDIUM",start_date:"2025-09-10",end_date:"2025-10-15",progress:30}),[b,u]=i.useState(!1),[m,o]=i.useState(!1),p=async s=>{s.preventDefault()};i.useEffect(()=>{d&&l(d)},[d]);const t="w-full px-3 py-2 rounded mt-2 border text-sm dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-300",c="rounded-lg border p-6 not-dark:bg-white dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border-zinc-300 dark:border-zinc-800",x="text-sm text-zinc-600 dark:text-zinc-400";return e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:c,children:[e.jsx("h2",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-300 mb-4",children:"Project Details"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Project Name"}),e.jsx("input",{value:r.name,onChange:s=>l({...r,name:s.target.value}),className:t,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Description"}),e.jsx("textarea",{value:r.description,onChange:s=>l({...r,description:s.target.value}),className:t+" h-24"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Status"}),e.jsxs("select",{value:r.status,onChange:s=>l({...r,status:s.target.value}),className:t,children:[e.jsx("option",{value:"PLANNING",children:"Planning"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"ON_HOLD",children:"On Hold"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Priority"}),e.jsxs("select",{value:r.priority,onChange:s=>l({...r,priority:s.target.value}),className:t,children:[e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"})]})]})]}),e.jsxs("div",{className:"space-y-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Start Date"}),e.jsx("input",{type:"date",value:j(r.start_date,"yyyy-MM-dd"),onChange:s=>l({...r,start_date:new Date(s.target.value)}),className:t})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"End Date"}),e.jsx("input",{type:"date",value:j(r.end_date,"yyyy-MM-dd"),onChange:s=>l({...r,end_date:new Date(s.target.value)}),className:t})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:x,children:["Progress: ",r.progress,"%"]}),e.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:r.progress,onChange:s=>l({...r,progress:Number(s.target.value)}),className:"w-full accent-blue-500 dark:accent-blue-400"})]}),e.jsxs("button",{type:"submit",disabled:m,className:"ml-auto flex items-center text-sm justify-center gap-2 bg-gradient-to-br from-blue-500 to-blue-600 text-white px-4 py-2 rounded",children:[e.jsx(D,{className:"size-4"})," ",m?"Saving...":"Save Changes"]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:c,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("h2",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-300 mb-4",children:["Team Members ",e.jsxs("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:["(",d.members.length,")"]})]}),e.jsx("button",{type:"button",onClick:()=>u(!0),className:"p-2 rounded-lg border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:e.jsx(f,{className:"size-4 text-zinc-900 dark:text-zinc-300"})}),e.jsx(M,{isDialogOpen:b,setIsDialogOpen:u})]}),d.members.length>0&&e.jsx("div",{className:"space-y-2 mt-2 max-h-32 overflow-y-auto",children:d.members.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded dark:bg-zinc-800 text-sm text-zinc-900 dark:text-zinc-300",children:[e.jsxs("span",{children:[" ",s?.user?.email||"Unknown"," "]}),d.team_lead===s.user.id&&e.jsx("span",{className:"px-2 py-0.5 rounded-xs ring ring-zinc-200 dark:ring-zinc-600",children:"Team Lead"})]},a))})]})})]})}function L({showCreateTask:d,setShowCreateTask:r,projectId:l}){const m=z(s=>s.workspace?.currentWorkspace||null)?.projects.find(s=>s.id===l)?.members||[],[o,p]=i.useState(!1),[t,c]=i.useState({title:"",description:"",type:"TASK",status:"TODO",priority:"MEDIUM",assigneeId:"",due_date:""}),x=async s=>{s.preventDefault()};return d?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 dark:bg-black/60 backdrop-blur",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-lg shadow-lg w-full max-w-md p-6 text-zinc-900 dark:text-white",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New Task"}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),e.jsx("input",{value:t.title,onChange:s=>c({...t,title:s.target.value}),placeholder:"Task title",className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx("textarea",{value:t.description,onChange:s=>c({...t,description:s.target.value}),placeholder:"Describe the task",className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1 h-24 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Type"}),e.jsxs("select",{value:t.type,onChange:s=>c({...t,type:s.target.value}),className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1",children:[e.jsx("option",{value:"BUG",children:"Bug"}),e.jsx("option",{value:"FEATURE",children:"Feature"}),e.jsx("option",{value:"TASK",children:"Task"}),e.jsx("option",{value:"IMPROVEMENT",children:"Improvement"}),e.jsx("option",{value:"OTHER",children:"Other"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Priority"}),e.jsxs("select",{value:t.priority,onChange:s=>c({...t,priority:s.target.value}),className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1",children:[e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Assignee"}),e.jsxs("select",{value:t.assigneeId,onChange:s=>c({...t,assigneeId:s.target.value}),className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1",children:[e.jsx("option",{value:"",children:"Unassigned"}),m.map(s=>e.jsx("option",{value:s?.user.id,children:s?.user.email},s?.user.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs("select",{value:t.status,onChange:s=>c({...t,status:s.target.value}),className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1",children:[e.jsx("option",{value:"TODO",children:"To Do"}),e.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),e.jsx("option",{value:"DONE",children:"Done"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"size-5 text-zinc-500 dark:text-zinc-400"}),e.jsx("input",{type:"date",value:t.due_date,onChange:s=>c({...t,due_date:s.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1"})]}),t.due_date&&e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:j(new Date(t.due_date),"PPP")})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"rounded border border-zinc-300 dark:border-zinc-700 px-5 py-2 text-sm hover:bg-zinc-100 dark:hover:bg-zinc-800 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"rounded px-5 py-2 text-sm bg-gradient-to-br from-blue-500 to-blue-600 hover:opacity-90 text-white dark:text-zinc-200 transition",children:o?"Creating...":"Create Task"})]})]})]})}):null}const R=i.lazy(()=>k(()=>import("./ProjectTasks-DWha4918.js"),__vite__mapDeps([0,1,2,3,4,5]))),H=i.lazy(()=>k(()=>import("./ProjectAnalytics-DafP5qxf.js"),__vite__mapDeps([6,1,2,7]))),F=i.lazy(()=>k(()=>import("./ProjectCalendar-DbxqDVM1.js"),__vite__mapDeps([8,1,2,4]))),g=()=>e.jsx("div",{className:"flex items-center justify-center h-40 text-zinc-500",children:e.jsx("div",{children:"Loading..."})});function $(){const[d,r]=N(),l=d.get("tab"),b=d.get("id"),u=P(),m=z(n=>n?.workspace?.currentWorkspace?.projects||[]),[o,p]=i.useState(null),[t,c]=i.useState([]),[x,s]=i.useState(!1),[a,v]=i.useState(l||"tasks");i.useEffect(()=>{l&&v(l)},[l]),i.useEffect(()=>{if(m&&m.length>0){const n=m.find(h=>h.id===b);p(n),c(n?.tasks||[])}},[b,m]);const w={PLANNING:"bg-zinc-200 text-zinc-900 dark:bg-zinc-600 dark:text-zinc-200",ACTIVE:"bg-emerald-200 text-emerald-900 dark:bg-emerald-500 dark:text-emerald-900",ON_HOLD:"bg-amber-200 text-amber-900 dark:bg-amber-500 dark:text-amber-900",COMPLETED:"bg-blue-200 text-blue-900 dark:bg-blue-500 dark:text-blue-900",CANCELLED:"bg-red-200 text-red-900 dark:bg-red-500 dark:text-red-900"};return o?e.jsxs("div",{className:"space-y-5 max-w-6xl mx-auto text-zinc-900 dark:text-white",children:[e.jsxs("div",{className:"flex max-md:flex-col gap-4 flex-wrap items-start justify-between max-w-6xl",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:"p-1 rounded hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-400",onClick:()=>u("/projects"),children:e.jsx(E,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-xl font-medium",children:o.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs capitalize ${w[o.status]}`,children:o.status.replace("_"," ")})]})]}),e.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-5 py-2 text-sm rounded bg-gradient-to-br from-blue-500 to-blue-600 text-white",children:[e.jsx(f,{className:"size-4"}),"New Task"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:flex flex-wrap gap-6",children:[{label:"Total Tasks",value:t.length,color:"text-zinc-900 dark:text-white"},{label:"Completed",value:t.filter(n=>n.status==="DONE").length,color:"text-emerald-700 dark:text-emerald-400"},{label:"In Progress",value:t.filter(n=>n.status==="IN_PROGRESS"||n.status==="TODO").length,color:"text-amber-700 dark:text-amber-400"},{label:"Team Members",value:o.members?.length||0,color:"text-blue-700 dark:text-blue-400"}].map((n,h)=>e.jsxs("div",{className:" dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-200 dark:border-zinc-800 flex justify-between sm:min-w-60 p-4 py-2.5 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:n.label}),e.jsx("div",{className:`text-2xl font-bold ${n.color}`,children:n.value})]}),e.jsx(T,{className:`size-4 ${n.color}`})]},h))}),e.jsxs("div",{children:[e.jsx("div",{className:"inline-flex flex-wrap max-sm:grid grid-cols-3 gap-2 border border-zinc-200 dark:border-zinc-800 rounded overflow-hidden",children:[{key:"tasks",label:"Tasks",icon:_},{key:"calendar",label:"Calendar",icon:y},{key:"analytics",label:"Analytics",icon:O},{key:"settings",label:"Settings",icon:A}].map(n=>e.jsxs("button",{onClick:()=>{v(n.key),r({id:b,tab:n.key})},className:`flex items-center gap-2 px-4 py-2 text-sm transition-all ${a===n.key?"bg-zinc-100 dark:bg-zinc-800/80":"hover:bg-zinc-50 dark:hover:bg-zinc-700"}`,children:[e.jsx(n.icon,{className:"size-3.5"}),n.label]},n.key))}),e.jsxs("div",{className:"mt-6",children:[a==="tasks"&&e.jsx("div",{className:" dark:bg-zinc-900/40 rounded max-w-6xl",children:e.jsx(i.Suspense,{fallback:e.jsx(g,{}),children:e.jsx(R,{tasks:t})})}),a==="analytics"&&e.jsx("div",{className:" dark:bg-zinc-900/40 rounded max-w-6xl",children:e.jsx(i.Suspense,{fallback:e.jsx(g,{}),children:e.jsx(H,{tasks:t,project:o})})}),a==="calendar"&&e.jsx("div",{className:" dark:bg-zinc-900/40 rounded max-w-6xl",children:e.jsx(i.Suspense,{fallback:e.jsx(g,{}),children:e.jsx(F,{tasks:t})})}),a==="settings"&&e.jsx("div",{className:" dark:bg-zinc-900/40 rounded max-w-6xl",children:e.jsx(I,{project:o})})]})]}),x&&e.jsx(L,{showCreateTask:x,setShowCreateTask:s,projectId:b})]}):e.jsxs("div",{className:"p-6 text-center text-zinc-900 dark:text-zinc-200",children:[e.jsx("p",{className:"text-3xl md:text-5xl mt-40 mb-10",children:"Project not found"}),e.jsx("button",{onClick:()=>u("/projects"),className:"mt-4 px-4 py-2 rounded bg-zinc-200 text-zinc-900 hover:bg-zinc-300 dark:bg-zinc-700 dark:text-white dark:hover:bg-zinc-600",children:"Back to Projects"})]})}export{$ as default};
