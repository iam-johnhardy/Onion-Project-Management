import{c as _,I as h,J as b,K as v,L as j,r as z,j as e,C as T,f as x,N as O,O as C,F as k}from"./index-CevuLws1.js";const E=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],F=_("chevron-left",E);function y(n,s,r){const a=h(n,r?.in);if(isNaN(s))return b(n,NaN);if(!s)return a;const c=a.getDate(),i=b(n,a.getTime());i.setMonth(a.getMonth()+s+1,0);const d=i.getDate();return c>=d?i:(a.setFullYear(i.getFullYear(),i.getMonth(),c),a)}function N(n,s,r){const[a,c]=v(r?.in,n,s);return+j(a)==+j(c)}function I(n,s){const r=h(n,s?.in),a=r.getMonth();return r.setFullYear(r.getFullYear(),a+1,0),r.setHours(23,59,59,999),r}function S(n,s){const[r,a]=v(n,s.start,s.end);return{start:r,end:a}}function H(n,s){const{start:r,end:a}=S(s?.in,n);let c=+r>+a;const i=c?+r:+a,d=c?a:r;d.setHours(0,0,0,0);let m=1;const o=[];for(;+d<=i;)o.push(b(r,d)),d.setDate(d.getDate()+m),d.setHours(0,0,0,0);return c?o.reverse():o}function L(n,s){const r=h(n,s?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function g(n,s){return+h(n)<+h(s)}function R(n,s,r){return y(n,-1,r)}const f={BUG:"bg-red-200 text-red-800 dark:bg-red-500 dark:text-red-900",FEATURE:"bg-blue-200 text-blue-800 dark:bg-blue-500 dark:text-blue-900",TASK:"bg-green-200 text-green-800 dark:bg-green-500 dark:text-green-900",IMPROVEMENT:"bg-purple-200 text-purple-800 dark:bg-purple-500 dark:text-purple-900",OTHER:"bg-amber-200 text-amber-800 dark:bg-amber-500 dark:text-amber-900"},U={LOW:"border-zinc-300 dark:border-zinc-600",MEDIUM:"border-amber-300 dark:border-amber-500",HIGH:"border-orange-300 dark:border-orange-500"},Y=({tasks:n})=>{const[s,r]=z.useState(new Date),[a,c]=z.useState(new Date),i=new Date,d=t=>n.filter(l=>N(l.due_date,t)),m=n.filter(t=>t.due_date&&!g(t.due_date,i)&&t.status!=="DONE").sort((t,l)=>new Date(t.due_date)-new Date(l.due_date)).slice(0,5),o=n.filter(t=>t.due_date&&g(t.due_date,i)&&t.status!=="DONE"),M=H({start:L(a),end:I(a)}),u=t=>{c(l=>t==="next"?y(l,1):R(l))};return e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 ",children:[e.jsxs("div",{className:"not-dark:bg-white dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-300 dark:border-zinc-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-zinc-900 dark:text-white text-md flex gap-2 items-center max-sm:hidden",children:[e.jsx(T,{className:"size-5"})," Task Calendar"]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("button",{onClick:()=>u("prev"),children:e.jsx(F,{className:"size-5 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white"})}),e.jsx("span",{className:"text-zinc-900 dark:text-white",children:x(a,"MMMM yyyy")}),e.jsx("button",{onClick:()=>u("next"),children:e.jsx(O,{className:"size-5 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 text-xs text-zinc-600 dark:text-zinc-400 mb-2 text-center",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(t=>e.jsx("div",{children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:M.map(t=>{const l=d(t),w=N(t,s),D=l.some(p=>p.status!=="DONE"&&g(p.due_date,i));return e.jsxs("button",{onClick:()=>r(t),className:`sm:h-14 rounded-md flex flex-col items-center justify-center text-sm
                                    ${w?"bg-blue-200 text-blue-900 dark:bg-blue-600 dark:text-white":"bg-zinc-50 text-zinc-900 dark:bg-zinc-800/40 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-700"}
                                    ${D?"border border-red-300 dark:border-red-500":""}`,children:[e.jsx("span",{children:x(t,"d")}),l.length>0&&e.jsxs("span",{className:"text-[10px] text-blue-700 dark:text-blue-400",children:[l.length," tasks"]})]},t)})})]}),d(s).length>0&&e.jsxs("div",{className:" not-dark:bg-white mt-6 dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-300 dark:border-zinc-800 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-zinc-900 dark:text-white text-lg mb-3",children:["Tasks for ",x(s,"MMM d, yyyy")]}),e.jsx("div",{className:"space-y-3",children:d(s).map(t=>e.jsxs("div",{className:`bg-zinc-50 dark:bg-zinc-800/40 hover:bg-zinc-100 dark:hover:bg-zinc-800 transition p-4 rounded border-l-4 ${U[t.priority]}`,children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("h4",{className:"text-zinc-900 dark:text-white font-medium",children:t.title}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${f[t.type]}`,children:t.type})]}),e.jsxs("div",{className:"flex justify-between text-xs text-zinc-600 dark:text-zinc-400",children:[e.jsxs("span",{className:"capitalize",children:[t.priority.toLowerCase()," priority"]}),t.assignee&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"w-3 h-3"}),t.assignee.name]})]})]},t.id))})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-zinc-950 dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-300 dark:border-zinc-800 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-zinc-900 dark:text-white text-sm flex items-center gap-2 mb-3",children:[e.jsx(k,{className:"w-4 h-4"})," Upcoming Tasks"]}),m.length===0?e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm text-center",children:"No upcoming tasks"}):e.jsx("div",{className:"space-y-2",children:m.map(t=>e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-800/40 hover:bg-zinc-100 dark:hover:bg-zinc-800 p-3 rounded-lg transition",children:[e.jsxs("div",{className:"flex justify-between items-start text-sm",children:[e.jsx("span",{className:"text-zinc-900 dark:text-white",children:t.title}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${f[t.type]}`,children:t.type})]}),e.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-400",children:x(t.due_date,"MMM d")})]},t.id))})]}),o.length>0&&e.jsxs("div",{className:"bg-white dark:bg-zinc-950  border border-red-300 dark:border-red-500 border-l-4 rounded-lg p-4",children:[e.jsxs("h3",{className:"text-red-700 dark:text-red-400 text-sm flex items-center gap-2 mb-3",children:[e.jsx(k,{className:"w-4 h-4"})," Overdue Tasks (",o.length,")"]}),e.jsxs("div",{className:"space-y-2",children:[o.slice(0,5).map(t=>e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 p-3 rounded-lg transition",children:[e.jsxs("div",{className:"flex justify-between text-sm text-zinc-900 dark:text-white",children:[e.jsx("span",{children:t.title}),e.jsx("span",{className:"text-xs px-2 py-0.5 rounded bg-red-200 dark:bg-red-500 text-red-900 dark:text-red-900",children:t.type})]}),e.jsxs("p",{className:"text-xs text-red-600 dark:text-red-300",children:["Due ",x(t.due_date,"MMM d")]})]},t.id)),o.length>5&&e.jsxs("p",{className:"text-xs text-zinc-500 dark:text-zinc-400 text-center",children:["+",o.length-5," more"]})]})]})]})]})};export{Y as default};
