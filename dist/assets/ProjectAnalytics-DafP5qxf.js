import{r as j,j as e,t as f,v as z,T as v,U as N,A as y}from"./vendor-react-BOUMS_NX.js";import{R as m,B as O,X as R,Y as w,a as T,P as D,b as E,C}from"./vendor-charts-RNFPO7oL.js";import"./vendor-other-Bt73QmDX.js";const b=["#3b82f6","#10b981","#f59e0b","#ef4444","#8b5cf6"],u={LOW:"text-red-600 bg-red-200 dark:text-red-500 dark:bg-red-600",MEDIUM:"text-blue-600 bg-blue-200 dark:text-blue-500 dark:bg-blue-600",HIGH:"text-emerald-600 bg-emerald-200 dark:text-emerald-500 dark:bg-emerald-600"},I=({project:g,tasks:l})=>{const{stats:d,statusData:p,typeData:x,priorityData:k}=j.useMemo(()=>{const a=new Date,r=l.length,i={total:r,completed:0,inProgress:0,todo:0,overdue:0},n={TODO:0,IN_PROGRESS:0,DONE:0},c={TASK:0,BUG:0,FEATURE:0,IMPROVEMENT:0,OTHER:0},o={LOW:0,MEDIUM:0,HIGH:0};return l.forEach(t=>{t.status==="DONE"&&i.completed++,t.status==="IN_PROGRESS"&&i.inProgress++,t.status==="TODO"&&i.todo++,new Date(t.due_date)<a&&t.status!=="DONE"&&i.overdue++,n[t.status]!==void 0&&n[t.status]++,c[t.type]!==void 0&&c[t.type]++,o[t.priority]!==void 0&&o[t.priority]++}),{stats:i,statusData:Object.entries(n).map(([t,s])=>({name:t.replace("_"," "),value:s})),typeData:Object.entries(c).filter(([t,s])=>s>0).map(([t,s])=>({name:t,value:s})),priorityData:Object.entries(o).map(([t,s])=>({name:t,value:s,percentage:r>0?Math.round(s/r*100):0}))}},[l]),h=[{label:"Completion Rate",value:`${d.total?Math.round(d.completed/d.total*100):0}%`,color:"text-emerald-600 dark:text-emerald-400",icon:e.jsx(f,{className:"size-5 text-emerald-600 dark:text-emerald-400"}),bg:"bg-emerald-200 dark:bg-emerald-500/10"},{label:"Active Tasks",value:d.inProgress,color:"text-blue-600 dark:text-blue-400",icon:e.jsx(z,{className:"size-5 text-blue-600 dark:text-blue-400"}),bg:"bg-blue-200 dark:bg-blue-500/10"},{label:"Overdue Tasks",value:d.overdue,color:"text-red-600 dark:text-red-400",icon:e.jsx(v,{className:"size-5 text-red-600 dark:text-red-400"}),bg:"bg-red-200 dark:bg-red-500/10"},{label:"Team Size",value:g?.members?.length||0,color:"text-purple-600 dark:text-purple-400",icon:e.jsx(N,{className:"size-5 text-purple-600 dark:text-purple-400"}),bg:"bg-purple-200 dark:bg-purple-500/10"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:h.map((a,r)=>e.jsx("div",{className:"not-dark:bg-white dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-300 dark:border-zinc-800 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:a.label}),e.jsx("p",{className:`text-xl font-bold ${a.color}`,children:a.value})]}),e.jsx("div",{className:`p-2 rounded-md ${a.bg}`,children:a.icon})]})},r))}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"not-dark:bg-white dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-300 dark:border-zinc-800 rounded-lg p-6",children:[e.jsx("h2",{className:"text-zinc-900 dark:text-white mb-4 font-medium",children:"Tasks by Status"}),e.jsx(m,{width:"100%",height:300,children:e.jsxs(O,{data:p,children:[e.jsx(R,{dataKey:"name",tick:{fill:"#52525b",fontSize:12},axisLine:{stroke:"#d4d4d8"},dark:{stroke:"#27272a"}}),e.jsx(w,{tick:{fill:"#52525b",fontSize:12},axisLine:{stroke:"#d4d4d8"}}),e.jsx(T,{dataKey:"value",fill:"#3b82f6",radius:[4,4,0,0]})]})})]}),e.jsxs("div",{className:"not-dark:bg-white dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-300 dark:border-zinc-800 rounded-lg p-6",children:[e.jsx("h2",{className:"text-zinc-900 dark:text-white mb-4 font-medium",children:"Tasks by Type"}),e.jsx(m,{width:"100%",height:300,children:e.jsx(D,{children:e.jsx(E,{data:x,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:100,label:({name:a,value:r})=>`${a}: ${r}`,children:x.map((a,r)=>e.jsx(C,{fill:b[r%b.length]},r))})})})]})]}),e.jsxs("div",{className:"not-dark:bg-white dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-300 dark:border-zinc-800 rounded-lg p-6",children:[e.jsx("h2",{className:"text-zinc-900 dark:text-white mb-4 font-medium",children:"Tasks by Priority"}),e.jsx("div",{className:"space-y-4",children:k.map(a=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:`size-3.5 ${u[a.name]} bg-transparent dark:bg-transparent`}),e.jsx("span",{className:"text-zinc-900 dark:text-zinc-200 capitalize",children:a.name.toLowerCase()})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-zinc-600 dark:text-zinc-400 text-sm",children:[a.value," tasks"]}),e.jsxs("span",{className:"px-2 py-0.5 border border-zinc-400 dark:border-zinc-700 text-zinc-600 dark:text-zinc-400 text-xs rounded",children:[a.percentage,"%"]})]})]}),e.jsx("div",{className:"w-full bg-zinc-300 dark:bg-zinc-800 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full ${u[a.name]}`,style:{width:`${a.percentage}%`}})})]},a.name))})]})]})};export{I as default};
