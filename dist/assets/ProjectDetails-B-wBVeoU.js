const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ProjectTasks-BV16cPpo.js","assets/index-CevuLws1.js","assets/index-Cj1-hILy.css","assets/ProjectAnalytics-FfQsZ72q.js","assets/ProjectCalendar--j3B0A65.js"])))=>i.map(i=>d[i]);
import{c as k,a as f,u as z,r as i,j as e,f as j,P as y,C as w,b as S,Z as D,d as P,e as _,_ as v}from"./index-CevuLws1.js";import{U as E,M as T}from"./user-plus-22iitzK8.js";const M=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],A=k("arrow-left",M);const O=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],I=k("file-stack",O);const L=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],H=k("save",L),R=({isDialogOpen:d,setIsDialogOpen:r})=>{const[l]=f(),b=l.get("id"),u=z(t=>t.workspace?.currentWorkspace||null),m=u?.projects.find(t=>t.id===b),o=m?.members.map(t=>t.user.email),[p,a]=i.useState(""),[c,x]=i.useState(!1),s=async t=>{t.preventDefault()};return d?e.jsx("div",{className:"fixed inset-0 bg-black/20 dark:bg-black/50 backdrop-blur flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-xl p-6 w-full max-w-md text-zinc-900 dark:text-zinc-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[e.jsx(E,{className:"size-5 text-zinc-900 dark:text-zinc-200"})," Add Member to Project"]}),u&&e.jsxs("p",{className:"text-sm text-zinc-700 dark:text-zinc-400",children:["Adding to Project: ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:m.name})]})]}),e.jsxs("form",{onSubmit:s,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-zinc-900 dark:text-zinc-200",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 dark:text-zinc-400 w-4 h-4"}),e.jsxs("select",{value:p,onChange:t=>a(t.target.value),className:"pl-10 mt-1 w-full rounded border border-zinc-300 dark:border-zinc-700 dark:bg-zinc-900 text-zinc-900 dark:text-zinc-200 text-sm placeholder-zinc-400 dark:placeholder-zinc-500 py-2 focus:outline-none focus:border-blue-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a member"}),u?.members.filter(t=>!o.includes(t.user.email)).map(t=>e.jsxs("option",{value:t.user.email,children:[" ",t.user.email," "]},t.user.id))]})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"px-5 py-2 text-sm rounded border border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-200 hover:bg-zinc-200 dark:hover:bg-zinc-800 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:c||!u,className:"px-5 py-2 text-sm rounded bg-gradient-to-br from-blue-500 to-blue-600 hover:opacity-90 text-white disabled:opacity-50 transition",children:c?"Adding...":"Add Member"})]})]})]})}):null};function U({project:d}){const[r,l]=i.useState({name:"New Website Launch",description:"Initial launch for new web platform.",status:"PLANNING",priority:"MEDIUM",start_date:"2025-09-10",end_date:"2025-10-15",progress:30}),[b,u]=i.useState(!1),[m,o]=i.useState(!1),p=async s=>{s.preventDefault()};i.useEffect(()=>{d&&l(d)},[d]);const a="w-full px-3 py-2 rounded mt-2 border text-sm dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 text-zinc-900 dark:text-zinc-300",c="rounded-lg border p-6 not-dark:bg-white dark:bg-gradient-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border-zinc-300 dark:border-zinc-800",x="text-sm text-zinc-600 dark:text-zinc-400";return e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:c,children:[e.jsx("h2",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-300 mb-4",children:"Project Details"}),e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Project Name"}),e.jsx("input",{value:r.name,onChange:s=>l({...r,name:s.target.value}),className:a,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Description"}),e.jsx("textarea",{value:r.description,onChange:s=>l({...r,description:s.target.value}),className:a+" h-24"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Status"}),e.jsxs("select",{value:r.status,onChange:s=>l({...r,status:s.target.value}),className:a,children:[e.jsx("option",{value:"PLANNING",children:"Planning"}),e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"ON_HOLD",children:"On Hold"}),e.jsx("option",{value:"COMPLETED",children:"Completed"}),e.jsx("option",{value:"CANCELLED",children:"Cancelled"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Priority"}),e.jsxs("select",{value:r.priority,onChange:s=>l({...r,priority:s.target.value}),className:a,children:[e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"})]})]})]}),e.jsxs("div",{className:"space-y-4 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"Start Date"}),e.jsx("input",{type:"date",value:j(r.start_date,"yyyy-MM-dd"),onChange:s=>l({...r,start_date:new Date(s.target.value)}),className:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:x,children:"End Date"}),e.jsx("input",{type:"date",value:j(r.end_date,"yyyy-MM-dd"),onChange:s=>l({...r,end_date:new Date(s.target.value)}),className:a})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:x,children:["Progress: ",r.progress,"%"]}),e.jsx("input",{type:"range",min:"0",max:"100",step:"5",value:r.progress,onChange:s=>l({...r,progress:Number(s.target.value)}),className:"w-full accent-blue-500 dark:accent-blue-400"})]}),e.jsxs("button",{type:"submit",disabled:m,className:"ml-auto flex items-center text-sm justify-center gap-2 bg-gradient-to-br from-blue-500 to-blue-600 text-white px-4 py-2 rounded",children:[e.jsx(H,{className:"size-4"})," ",m?"Saving...":"Save Changes"]})]})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:c,children:[e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("h2",{className:"text-lg font-medium text-zinc-900 dark:text-zinc-300 mb-4",children:["Team Members ",e.jsxs("span",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:["(",d.members.length,")"]})]}),e.jsx("button",{type:"button",onClick:()=>u(!0),className:"p-2 rounded-lg border border-zinc-300 dark:border-zinc-700 hover:bg-zinc-100 dark:hover:bg-zinc-800",children:e.jsx(y,{className:"size-4 text-zinc-900 dark:text-zinc-300"})}),e.jsx(R,{isDialogOpen:b,setIsDialogOpen:u})]}),d.members.length>0&&e.jsx("div",{className:"space-y-2 mt-2 max-h-32 overflow-y-auto",children:d.members.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between px-3 py-2 rounded dark:bg-zinc-800 text-sm text-zinc-900 dark:text-zinc-300",children:[e.jsxs("span",{children:[" ",s?.user?.email||"Unknown"," "]}),d.team_lead===s.user.id&&e.jsx("span",{className:"px-2 py-0.5 rounded-xs ring ring-zinc-200 dark:ring-zinc-600",children:"Team Lead"})]},t))})]})})]})}function F({showCreateTask:d,setShowCreateTask:r,projectId:l}){const m=z(s=>s.workspace?.currentWorkspace||null)?.projects.find(s=>s.id===l)?.members||[],[o,p]=i.useState(!1),[a,c]=i.useState({title:"",description:"",type:"TASK",status:"TODO",priority:"MEDIUM",assigneeId:"",due_date:""}),x=async s=>{s.preventDefault()};return d?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/20 dark:bg-black/60 backdrop-blur",children:e.jsxs("div",{className:"bg-white dark:bg-zinc-950 border border-zinc-300 dark:border-zinc-800 rounded-lg shadow-lg w-full max-w-md p-6 text-zinc-900 dark:text-white",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create New Task"}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"title",className:"text-sm font-medium",children:"Title"}),e.jsx("input",{value:a.title,onChange:s=>c({...a,title:s.target.value}),placeholder:"Task title",className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1 focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{htmlFor:"description",className:"text-sm font-medium",children:"Description"}),e.jsx("textarea",{value:a.description,onChange:s=>c({...a,description:s.target.value}),placeholder:"Describe the task",className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1 h-24 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Type"}),e.jsxs("select",{value:a.type,onChange:s=>c({...a,type:s.target.value}),className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1",children:[e.jsx("option",{value:"BUG",children:"Bug"}),e.jsx("option",{value:"FEATURE",children:"Feature"}),e.jsx("option",{value:"TASK",children:"Task"}),e.jsx("option",{value:"IMPROVEMENT",children:"Improvement"}),e.jsx("option",{value:"OTHER",children:"Other"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Priority"}),e.jsxs("select",{value:a.priority,onChange:s=>c({...a,priority:s.target.value}),className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1",children:[e.jsx("option",{value:"LOW",children:"Low"}),e.jsx("option",{value:"MEDIUM",children:"Medium"}),e.jsx("option",{value:"HIGH",children:"High"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Assignee"}),e.jsxs("select",{value:a.assigneeId,onChange:s=>c({...a,assigneeId:s.target.value}),className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1",children:[e.jsx("option",{value:"",children:"Unassigned"}),m.map(s=>e.jsx("option",{value:s?.user.id,children:s?.user.email},s?.user.id))]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Status"}),e.jsxs("select",{value:a.status,onChange:s=>c({...a,status:s.target.value}),className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1",children:[e.jsx("option",{value:"TODO",children:"To Do"}),e.jsx("option",{value:"IN_PROGRESS",children:"In Progress"}),e.jsx("option",{value:"DONE",children:"Done"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-sm font-medium",children:"Due Date"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(w,{className:"size-5 text-zinc-500 dark:text-zinc-400"}),e.jsx("input",{type:"date",value:a.due_date,onChange:s=>c({...a,due_date:s.target.value}),min:new Date().toISOString().split("T")[0],className:"w-full rounded dark:bg-zinc-900 border border-zinc-300 dark:border-zinc-700 px-3 py-2 text-zinc-900 dark:text-zinc-200 text-sm mt-1"})]}),a.due_date&&e.jsx("p",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:j(new Date(a.due_date),"PPP")})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx("button",{type:"button",onClick:()=>r(!1),className:"rounded border border-zinc-300 dark:border-zinc-700 px-5 py-2 text-sm hover:bg-zinc-100 dark:hover:bg-zinc-800 transition",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"rounded px-5 py-2 text-sm bg-gradient-to-br from-blue-500 to-blue-600 hover:opacity-90 text-white dark:text-zinc-200 transition",children:o?"Creating...":"Create Task"})]})]})]})}):null}const V=i.lazy(()=>v(()=>import("./ProjectTasks-BV16cPpo.js"),__vite__mapDeps([0,1,2]))),W=i.lazy(()=>v(()=>import("./ProjectAnalytics-FfQsZ72q.js"),__vite__mapDeps([3,1,2]))),G=i.lazy(()=>v(()=>import("./ProjectCalendar--j3B0A65.js"),__vite__mapDeps([4,1,2]))),g=()=>e.jsx("div",{className:"flex items-center justify-center h-40 text-zinc-500",children:e.jsx("div",{children:"Loading..."})});function B(){const[d,r]=f(),l=d.get("tab"),b=d.get("id"),u=S(),m=z(n=>n?.workspace?.currentWorkspace?.projects||[]),[o,p]=i.useState(null),[a,c]=i.useState([]),[x,s]=i.useState(!1),[t,N]=i.useState(l||"tasks");i.useEffect(()=>{l&&N(l)},[l]),i.useEffect(()=>{if(m&&m.length>0){const n=m.find(h=>h.id===b);p(n),c(n?.tasks||[])}},[b,m]);const C={PLANNING:"bg-zinc-200 text-zinc-900 dark:bg-zinc-600 dark:text-zinc-200",ACTIVE:"bg-emerald-200 text-emerald-900 dark:bg-emerald-500 dark:text-emerald-900",ON_HOLD:"bg-amber-200 text-amber-900 dark:bg-amber-500 dark:text-amber-900",COMPLETED:"bg-blue-200 text-blue-900 dark:bg-blue-500 dark:text-blue-900",CANCELLED:"bg-red-200 text-red-900 dark:bg-red-500 dark:text-red-900"};return o?e.jsxs("div",{className:"space-y-5 max-w-6xl mx-auto text-zinc-900 dark:text-white",children:[e.jsxs("div",{className:"flex max-md:flex-col gap-4 flex-wrap items-start justify-between max-w-6xl",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{className:"p-1 rounded hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-400",onClick:()=>u("/projects"),children:e.jsx(A,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-xl font-medium",children:o.name}),e.jsx("span",{className:`px-2 py-1 rounded text-xs capitalize ${C[o.status]}`,children:o.status.replace("_"," ")})]})]}),e.jsxs("button",{onClick:()=>s(!0),className:"flex items-center gap-2 px-5 py-2 text-sm rounded bg-linear-to-br from-blue-500 to-blue-600 text-white",children:[e.jsx(y,{className:"size-4"}),"New Task"]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:flex flex-wrap gap-6",children:[{label:"Total Tasks",value:a.length,color:"text-zinc-900 dark:text-white"},{label:"Completed",value:a.filter(n=>n.status==="DONE").length,color:"text-emerald-700 dark:text-emerald-400"},{label:"In Progress",value:a.filter(n=>n.status==="IN_PROGRESS"||n.status==="TODO").length,color:"text-amber-700 dark:text-amber-400"},{label:"Team Members",value:o.members?.length||0,color:"text-blue-700 dark:text-blue-400"}].map((n,h)=>e.jsxs("div",{className:" dark:bg-linear-to-br dark:from-zinc-800/70 dark:to-zinc-900/50 border border-zinc-200 dark:border-zinc-800 flex justify-between sm:min-w-60 p-4 py-2.5 rounded",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-zinc-600 dark:text-zinc-400",children:n.label}),e.jsx("div",{className:`text-2xl font-bold ${n.color}`,children:n.value})]}),e.jsx(D,{className:`size-4 ${n.color}`})]},h))}),e.jsxs("div",{children:[e.jsx("div",{className:"inline-flex flex-wrap max-sm:grid grid-cols-3 gap-2 border border-zinc-200 dark:border-zinc-800 rounded overflow-hidden",children:[{key:"tasks",label:"Tasks",icon:I},{key:"calendar",label:"Calendar",icon:w},{key:"analytics",label:"Analytics",icon:P},{key:"settings",label:"Settings",icon:_}].map(n=>e.jsxs("button",{onClick:()=>{N(n.key),r({id:b,tab:n.key})},className:`flex items-center gap-2 px-4 py-2 text-sm transition-all ${t===n.key?"bg-zinc-100 dark:bg-zinc-800/80":"hover:bg-zinc-50 dark:hover:bg-zinc-700"}`,children:[e.jsx(n.icon,{className:"size-3.5"}),n.label]},n.key))}),e.jsxs("div",{className:"mt-6",children:[t==="tasks"&&e.jsx("div",{className:" dark:bg-zinc-900/40 rounded max-w-6xl",children:e.jsx(i.Suspense,{fallback:e.jsx(g,{}),children:e.jsx(V,{tasks:a})})}),t==="analytics"&&e.jsx("div",{className:" dark:bg-zinc-900/40 rounded max-w-6xl",children:e.jsx(i.Suspense,{fallback:e.jsx(g,{}),children:e.jsx(W,{tasks:a,project:o})})}),t==="calendar"&&e.jsx("div",{className:" dark:bg-zinc-900/40 rounded max-w-6xl",children:e.jsx(i.Suspense,{fallback:e.jsx(g,{}),children:e.jsx(G,{tasks:a})})}),t==="settings"&&e.jsx("div",{className:" dark:bg-zinc-900/40 rounded max-w-6xl",children:e.jsx(U,{project:o})})]})]}),x&&e.jsx(F,{showCreateTask:x,setShowCreateTask:s,projectId:b})]}):e.jsxs("div",{className:"p-6 text-center text-zinc-900 dark:text-zinc-200",children:[e.jsx("p",{className:"text-3xl md:text-5xl mt-40 mb-10",children:"Project not found"}),e.jsx("button",{onClick:()=>u("/projects"),className:"mt-4 px-4 py-2 rounded bg-zinc-200 text-zinc-900 hover:bg-zinc-300 dark:bg-zinc-700 dark:text-white dark:hover:bg-zinc-600",children:"Back to Projects"})]})}export{B as default};
